# ================================================================
# Omkar AI Innovation — Ad-Tech Platform
# Environment Variables Reference
# DO NOT commit .env files — use Doppler for secrets management
# ================================================================

# ===== DATABASE (Supabase) =====
# app.supabase.com → Project Settings → API
DATABASE_URL="postgresql://postgres.[project-ref]:[password]@aws-0-ap-south-1.pooler.supabase.com:6543/postgres?pgbouncer=true"
DIRECT_URL="postgresql://postgres.[project-ref]:[password]@aws-0-ap-south-1.pooler.supabase.com:5432/postgres"
SUPABASE_URL="https://[project-ref].supabase.co"
SUPABASE_ANON_KEY="eyJ..."
SUPABASE_SERVICE_KEY="eyJ..."  # KEEP SECRET — admin access

# ===== REDIS (Upstash) =====
# console.upstash.com → Redis → REST API
UPSTASH_REDIS_URL="https://[id]-[region].upstash.io"
UPSTASH_REDIS_TOKEN="A..."

# ===== KAFKA (Upstash Serverless) =====
# console.upstash.com → Kafka → Cluster
UPSTASH_KAFKA_URL="[id]-[region].upstash.io:9092"
UPSTASH_KAFKA_USERNAME="[username]"
UPSTASH_KAFKA_PASSWORD="[password]"

# ===== AUTHENTICATION (Clerk) =====
# dashboard.clerk.com → API Keys
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_live_..."
CLERK_SECRET_KEY="sk_live_..."
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/"

# ===== ANTHROPIC (Claude AI) =====
# console.anthropic.com → Account → API Keys
ANTHROPIC_API_KEY="sk-ant-..."    # Used by API server for forecasts + agents
CLAUDE_API_KEY="sk-ant-..."       # Alias (legacy)

# ===== GOOGLE ADS API v17 =====
# ads.google.com → Tools → API Center → Apply for developer token
# console.cloud.google.com → APIs & Services → Credentials → OAuth 2.0 Client ID
GOOGLE_ADS_DEVELOPER_TOKEN="..."
GOOGLE_ADS_CLIENT_ID="....apps.googleusercontent.com"
GOOGLE_ADS_CLIENT_SECRET="GOCSPX-..."
GOOGLE_ADS_REFRESH_TOKEN="1//..."       # Generated via OAuth2 consent flow
GOOGLE_ADS_CUSTOMER_ID="1234567890"     # 10-digit customer ID without dashes
GOOGLE_ADS_LOGIN_CUSTOMER_ID="..."      # Manager (MCC) account CID (optional)

# ===== META MARKETING API (Graph API v20.0) =====
# developers.facebook.com → My Apps → Settings → Basic
META_APP_ID="..."
META_APP_SECRET="..."
# Meta Business Suite → Business Settings → System Users → Generate token
META_ACCESS_TOKEN="..."           # Long-lived system user token (preferred over META_SYSTEM_USER_TOKEN)
META_SYSTEM_USER_TOKEN="..."      # Legacy alias
META_AD_ACCOUNT_ID="act_..."      # Ad Account ID (with 'act_' prefix)
META_PIXEL_ID="..."               # For CAPI conversion events
META_WEBHOOK_VERIFY_TOKEN="omkar-adtech-webhook-secret-2024"  # Custom token for webhook verification
# META_CAPI_TEST_CODE="TEST12345"  # Uncomment for CAPI test event validation

# ===== WHATSAPP CLOUD API =====
# Meta Business Suite → WhatsApp → Getting Started
WHATSAPP_PHONE_NUMBER_ID="..."
WHATSAPP_BUSINESS_ACCOUNT_ID="..."
WHATSAPP_ACCESS_TOKEN="..."       # System user permanent access token
WHATSAPP_WEBHOOK_VERIFY_TOKEN="omkar-whatsapp-verify-2024"

# ===== RAZORPAY (Workshop Registrations) =====
RAZORPAY_KEY_ID="rzp_live_..."
RAZORPAY_KEY_SECRET="..."
RAZORPAY_WEBHOOK_SECRET="..."

# ===== MONITORING =====
SENTRY_DSN="https://....sentry.io/..."
NEXT_PUBLIC_SENTRY_DSN="https://....sentry.io/..."
DATADOG_API_KEY="..."
NEXT_PUBLIC_POSTHOG_KEY="phc_..."
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# ===== NOTIFICATIONS =====
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/..."  # #new-leads channel
SLACK_ALERTS_WEBHOOK_URL="https://hooks.slack.com/services/..."  # #anomaly-alerts channel

# ===== GOOGLE SHEETS (Lead Backup) =====
GOOGLE_SHEETS_SPREADSHEET_ID="..."
GOOGLE_SHEETS_SERVICE_ACCOUNT_EMAIL="..."
GOOGLE_SHEETS_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n..."

# ===== APP CONFIG =====
NODE_ENV="development"
PORT=4000
FRONTEND_URL="http://localhost:3000"
API_URL="http://localhost:4000"
NEXT_PUBLIC_API_URL="http://localhost:4000"
LOG_LEVEL="info"
